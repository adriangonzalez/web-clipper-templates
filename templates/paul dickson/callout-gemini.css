/**
 * Style callouts for Gemini prompt and responses
 * Based on the CSS found via
 * https://github.com/ljavuras/obsidian-power-tools/blob/main/Obsidian%20Web%20Clipper%20Template/ChatGPT/README.md
 * @author Ljavuras <ljavuras.py@gmail.com>
 * Found via Discord https://discord.com/channels/686053708261228577/1325283716695588915
 * Started making some changes to suit Gemini
 */

 .callout[data-callout|="ai-response"] {
    margin: var(--size-4-8) 0;
    background-color: unset;
    box-shadow: unset;
    --callout-icon: <svg width="800px" height="800px" viewBox="0 0 24 24" id="meteor-icon-kit__regular-google" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_1292_3949)">
    <g clip-path="url(#clip1_1292_3949)">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.255 4.75C14.025 4.75 15.605 5.36 16.855 6.55L20.275 3.13C18.205 1.19 15.495 0 12.255 0C7.56498 0 3.51498 2.7 1.54498 6.62L1.545 6.62001C0.725001 8.24001 0.255005 10.06 0.255005 12C0.255005 13.94 0.724996 15.76 1.54498 17.38V17.38C3.51498 21.3 7.56498 24 12.255 24C15.495 24 18.205 22.92 20.185 21.09L20.185 21.09C22.445 19 23.745 15.92 23.745 12.27C23.745 11.48 23.675 10.73 23.555 10H12.255V14.51H18.725C18.435 15.99 17.585 17.24 16.325 18.09L16.325 18.09C15.245 18.81 13.875 19.25 12.255 19.25C9.12498 19.25 6.47498 17.14 5.52498 14.29L5.52501 14.29C5.27501 13.57 5.145 12.8 5.145 12C5.145 11.2 5.28501 10.43 5.52501 9.71V9.70994C6.47502 6.85997 9.12501 4.75 12.255 4.75Z" fill="#758CA3"/>
    </g>
    </g>
    <defs>
    <clipPath id="clip0_1292_3949">
    <rect width="24" height="24" fill="white"/>
    </clipPath>
    <clipPath id="clip1_1292_3949">
    <rect width="24" height="24" fill="white"/>
    </clipPath>
    </defs>  
    </svg>;
    --callout-icon-size: 32px;
    --gizmo-bot-avatar-size: 18px;
    --callout-prompt-padding: 10px 20px;
    --callout-response-padding: 0 0 0 calc(var(--callout-icon-size) + 1rem);
    --callout-response-margin-top: 1rem;
  }

.callout[data-callout|="ai-response"] .callout-content {
    padding: unset;
    background-color: unset;
    box-shadow: none;
}

.callout[data-callout="ai-prompt"] .callout-title {
    display: none;
}

.callout[data-callout="ai-prompt"] .callout-content {
    display: flex;
    flex-direction: column;
}

.callout[data-callout="ai-prompt"] .callout-content > * {
    display: inline-block;
    max-width: 70%;
    margin-block-start: unset;
    margin-block-end: unset;
    margin-left: auto;
    padding: var(--callout-prompt-padding);
    text-align: left;
    background-color: var(--background-secondary);
    border-radius: 1.5rem;
    position: relative; /* needed for absolute positioning of pseudo-element */
}

.callout[data-callout="ai-prompt"] .callout-content > *::after {
    content: "";
    position: absolute;
    bottom: 0;
    right: -10px; /* adjust as needed */
    width: 0;
    height: 0;
    border: 10px solid transparent;
    border-top-color: var(--background-secondary); /* color matches bubble */
    border-bottom: 0;
    margin-bottom: -10px;
}

.callout[data-callout="ai-prompt"] .callout-content > * + * {
    margin-top: 1rem;
}

.callout[data-callout="ai-response"] .callout-content > *:first-child {
    margin-block-start: unset;
}

.callout[data-callout="ai-response"] .callout-content > *:last-child {
    margin-block-end: unset;
}

.callout[data-callout="ai-response"] {
    display: flex;
}

.callout[data-callout="ai-response"] .callout-title {
    display: block;
    padding: 4px 20px 0 0;
    box-shadow: unset;
}

.callout[data-callout="ai-response"] .callout-icon {
    width: var(--callout-icon-size);
    height: var(--callout-icon-size);
    outline: solid 1px var(--text-normal);
    outline-offset: -1px;
    border-radius: var(--callout-icon-size);
}

.callout[data-callout="ai-response"] .callout-icon svg {
    display: block;
    margin: auto;
    width: var(--gizmo-bot-avatar-size);
    height: var(--gizmo-bot-avatar-size);
    color: var(--text-normal);
}

.callout[data-callout="ai-response"] .callout-title-inner {
    display: none;
}